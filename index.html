<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Tap Game</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: #111;
      color: white;
      font-family: Arial, sans-serif;
    }

    #tap {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: orange;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 28px;
      cursor: pointer;
      user-select: none;
      margin-bottom: 20px;
    }

    #energy {
      font-size: 20px;
      opacity: 0.9;
    }
  </style>
</head>

<body>

  <!-- ÐšÐÐžÐŸÐšÐ ÐšÐ›Ð˜ÐšÐ -->
  <div id="tap">ðŸ”¥ 0</div>

  <!-- Ð­ÐÐ•Ð Ð“Ð˜Ð¯ -->
  <div id="energy">âš¡ 100 / 100</div>

  <!-- Ð›ÐžÐ“Ð˜ÐšÐ -->
  <script>
    const tg = window.Telegram?.WebApp;
    tg?.ready();
    tg?.expand();

    const tap = document.getElementById('tap');
    const energyEl = document.getElementById('energy');

    let count = Number(localStorage.getItem('count') || 0);
    let energy = Number(localStorage.getItem('energy') || 100);
    const maxEnergy = 100;

    tap.innerText = 'ðŸ”¥ ' + count;
    energyEl.innerText = `âš¡ ${energy} / ${maxEnergy}`;

    tap.addEventListener('click', () => {
      if (energy <= 0) return;

      count++;
      energy--;

      tap.innerText = 'ðŸ”¥ ' + count;
      energyEl.innerText = `âš¡ ${energy} / ${maxEnergy}`;

      localStorage.setItem('count', count);
      localStorage.setItem('energy', energy);

      tg?.HapticFeedback?.impactOccurred('light');
    });

    // Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ½ÐµÑ€Ð³Ð¸Ð¸
    setInterval(() => {
      if (energy < maxEnergy) {
        energy++;
        energyEl.innerText = `âš¡ ${energy} / ${maxEnergy}`;
        localStorage.setItem('energy', energy);
      }
    }, 1000);
  </script>

</body>
</html>
